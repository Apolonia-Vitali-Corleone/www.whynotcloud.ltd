<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Serverless Landing Demo</title>
  <style>body{font-family:system-ui,Arial;margin:40px;max-width:820px}input,button{padding:8px;margin:4px}</style>
</head>
<body>
  <h1>Serverless Landing Demo</h1>
  <p>Welcome! This is a static page served from S3 via CloudFront. API is under <code>/api/*</code>.</p>

  <h2>Subscribe</h2>
  <input id="subEmail" type="email" placeholder="email@example.com" />
  <button onclick="subscribe()">Subscribe</button>
  <pre id="subOut"></pre>

  <h2>Contact</h2>
  <input id="name" placeholder="name"/>
  <input id="email" placeholder="email"/>
  <br/>
  <textarea id="message" placeholder="your message" rows="4" cols="60"></textarea><br/>
  <button onclick="contact()">Send</button>
  <pre id="contactOut"></pre>

<script>
async function subscribe(){
  const email = document.getElementById('subEmail').value;
  const res = await fetch('/api/subscribe', {
    method: 'POST',
    headers: {'Content-Type':'application/json'},
    body: JSON.stringify({email})
  });
  document.getElementById('subOut').textContent = await res.text();
}

async function contact(){
  const name = document.getElementById('name').value;
  const email = document.getElementById('email').value;
  const message = document.getElementById('message').value;
  const res = await fetch('/api/contact', {
    method: 'POST',
    headers: {'Content-Type':'application/json'},
    body: JSON.stringify({name,email,message})
  });
  document.getElementById('contactOut').textContent = await res.text();
}
</script>


  <hr/>
  <p>Variant cookie: <code>ab-variant</code> is set by CloudFront Function (A/B).</p>
</body>
</html>
